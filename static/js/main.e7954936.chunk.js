(this.webpackJsonpvisualizer=this.webpackJsonpvisualizer||[]).push([[0],{25:function(e,t,n){e.exports=n(40)},30:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=n(20),o=n.n(a),s=n(11),c=n(12),l=(n(30),n(3)),u=n(4),h=n(9),f=n(8),m=n(2),v=n(10),d=n(5),g=function(e){var t=e.children,n=e.className,r=e.none,a=e.grow,o=e.outer,s=e.inner,c=e.center,l=Object(d.a)(e,["children","className","none","grow","outer","inner","center"]),u=[];return r||(u.push("section"),o?u.push("section-outer"):s?u.push("section-inner"):a&&u.push("section-grow"),c&&u.push("section-center")),n&&u.push(n),i.a.createElement("div",Object.assign({className:u.join(" ")},l),t)},b=function(e){var t=e.children,n=e.className,r=e.fluid,a=Object(d.a)(e,["children","className","fluid"]),o=[r?"container-fluid":"container"];return n&&o.push(n),i.a.createElement("div",Object.assign({className:o.join(" ")},a),t)},p=function(e){var t=e.children,n=e.className,r=Object(d.a)(e,["children","className"]),a=["row"];return n&&a.push(n),i.a.createElement("div",Object.assign({className:a.join(" ")},r),t)},A=function(e){var t=e.children,n=e.className,r=e.col,a=Object(d.a)(e,["children","className","col"]),o=[r?Array.isArray(r)?r.reduce((function(e){return e?e+=" col-"+r:e="col-"+r}),void 0):"col-"+r:"col"];return n&&o.push(n),i.a.createElement("div",Object.assign({className:o.join(" ")},a),t)},y=n(21),x=function(e){var t=e.children,n=e.className,r=e.styles,a=Object(d.a)(e,["children","className","styles"]),o=function(e){Object(y.isArray)(e)||(e=e.split(" "));var t=e.includes("primary"),n=e.includes("secondary"),r=e.includes("success"),i=e.includes("danger"),a=e.includes("warning"),o=e.includes("info"),s=e.includes("light"),c=e.includes("dark"),l=e.includes("link"),u=e.includes("outline"),h=e.includes("large"),f=e.includes("small"),m=e.includes("block"),v=["btn"];return t?u?v.push("btn-outline-primary"):v.push("btn-primary"):n?u?v.push("btn-outline-secondary"):v.push("btn-secondary"):r?u?v.push("btn-outline-success"):v.push("btn-success"):i?u?v.push("btn-outline-danger"):v.push("btn-danger"):a?u?v.push("btn-outline-warning"):v.push("btn-warning"):o?u?v.push("btn-outline-info"):v.push("btn-info"):s?u?v.push("btn-outline-light"):v.push("btn-light"):c?u?v.push("btn-outline-dark"):v.push("btn-dark"):l?u?v.push("btn-outline-link"):v.push("btn-link"):u?v.push("btn-outline-primary"):v.push("btn-primary"),h&&v.push("btn-lg"),f&&v.push("btn-sm"),m&&v.push("btn-block"),v}(r);return n&&o.push(n),i.a.createElement("button",Object.assign({className:o.join(" ")},a),t)},R=function(e){var t=e.children,n=e.className,r=e.vertical,a=e.small,o=e.medium,s=e.large,c=e.extralarge,l=e.primary,u=e.secondary,h=e.success,f=e.danger,m=e.warning,v=e.info,g=e.light,b=e.dark,p=Object(d.a)(e,["children","className","vertical","small","medium","large","extralarge","primary","secondary","success","danger","warning","info","light","dark"]),A=["navbar"];return r||(a?A.push("navbar-expand-sm"):o?A.push("navbar-expand-md"):s?A.push("navbar-expand-lg"):c?A.push("navbar-expand-xl"):A.push("navbar-expand-sm")),l?A.push("navbar-primary"):u?A.push("navbar-secondary"):h?A.push("navbar-success"):f?A.push("navbar-danger"):m?A.push("navbar-warning"):v?A.push("navbar-info"):g?A.push("navbar-light"):b&&A.push("navbar-dark"),g?A.push("bg-light"):b?A.push("bg-dark"):A.push("bg-light"),n&&A.push(n),i.a.createElement("nav",Object.assign({className:A.join(" ")},p),t)},C=function(e){var t=e.children,n=e.expanded,r=Object(d.a)(e,["children","expanded"]);return i.a.createElement(i.a.Fragment,null,i.a.createElement("button",Object.assign({className:"navbar-toggler",type:"button","aria-expanded":n,"aria-label":"Toggle navigation"},r),i.a.createElement("span",{className:"navbar-toggler-icon"})),i.a.createElement("div",{className:"collapse navbar-collapse"+(n?" show":"")},t))},E=function(e){var t=e.children,n=e.className,r=Object(d.a)(e,["children","className"]),a=["navbar-nav"];return n&&a.push(n),i.a.createElement("div",Object.assign({className:a.join(" ")},r),t)},w=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={expanded:!1},n.onClickExpand=n.onClickExpand.bind(Object(m.a)(n)),n}return Object(v.a)(t,e),Object(u.a)(t,[{key:"onClickExpand",value:function(){this.setState({expanded:!this.state.expanded})}},{key:"render",value:function(){return i.a.createElement(R,{large:!0,dark:!0},i.a.createElement(s.b,{to:"/",className:"navbar-brand"},i.a.createElement("h1",null,"Visualizer")),i.a.createElement(C,{expanded:this.state.expanded,onClick:this.onClickExpand},i.a.createElement(E,null,i.a.createElement(s.b,{to:"/",className:"nav-link"},"Home"),i.a.createElement(s.b,{to:"/sort",className:"nav-link"},"Sort"),i.a.createElement(s.b,{to:"/maze",className:"nav-link"},"Maze"),i.a.createElement(s.b,{to:"/sort3d",className:"nav-link"},"Sort 3D"),i.a.createElement(s.b,{to:"/maze3d",className:"nav-link"},"Maze 3D"))))}}]),t}(i.a.Component),S=function(){return i.a.createElement("pre",{style:{color:"black"}},i.a.createElement("code",null,'<Section outer>\n  <Section>\n    <Navigation />\n  </Section>\n  <Section grow center>\n    <Route exact path="/" component={Home} />\n    <Route path="/sort" component={Sort} />\n    <Route path="/maze" component={MazePage} />\n  </Section>\n</Section>'))},k=n(14),_=function(){function e(t,n){Object(l.a)(this,e),this.data=t,this.frameRate=n,this.queue=[],this.getData=this.getData.bind(this),this.initialize=this.initialize.bind(this),this.update=this.update.bind(this),this.animate=this.animate.bind(this)}return Object(u.a)(e,[{key:"getData",value:function(){return this.data}},{key:"initialize",value:function(e){this.timeStamp=void 0,e&&(this.data=this._clone(e))}},{key:"update",value:function(e){this.queue.push(e)}},{key:"animate",value:function(e){this.timeStamp||(this.timeStamp=e);var t=e-this.timeStamp;for(this.timeStamp=e;this.queue.length>0&&t>=this.frameRate;){t-=this.frameRate;for(var n=this.queue.shift(),r=0;r<n.length;r+=2)this.data[n[r]]=n[r+1]}return this.timeStamp-=t,{animating:0!==this.queue.length,data:this.data}}},{key:"_clone",value:function(e){var t=this;return e.map((function(e){return Array.isArray(e)?t._clone(e):e}))}}]),e}(),F=n(24),L=n.n(F);function M(e,t,n){t();for(var r=e.length-1;r>0;r--){var i=Math.floor(Math.random()*(r+1));P(e,r,i),n([r,e[r],i,e[i]])}}function B(e,t,n){t();for(var r=e.length,i=0;i<r/2;i++){var a=r-i-1;P(e,i,a),n([i,e[i],a,e[a]])}}function j(e,t,n){t();for(var r=e.length-1,i=0;i<r;i++){for(var a=0,o=0;o<r-i;o++)e[o]>e[o+1]&&(P(e,o,o+1),n([o,e[o],o+1,e[o+1]]),a++);if(0===a)break}}function O(e,t,n){t();for(var r=e.length,i=1;i<r;i++){for(var a=e[i],o=i-1;o>=0&&e[o]>a;)e[o+1]=e[o],n([o+1,e[o+1]]),o-=1;e[o+1]=a,n([o+1,e[o+1]])}}function N(e,t,n){t();var r=function(e,t,r,i){if(!(e[r]<e[r+1]))for(var a=r+1;t<=r&&a<=i;)if(e[t]<=e[a])t++;else{for(var o=e[a],s=a;s!==t;)e[s]=e[s-1],n([s,e[s]]),s--;e[t]=o,n([t,e[t]]),t++,r++,a++}};!function e(t,n,i){if(n<i){var a=Math.floor(n+(i-n)/2);e(t,n,a),e(t,a+1,i),r(t,n,a,i)}}(e,0,e.length-1)}function U(e,t,n){t();var r=new Array(e.size),i=function(e,t,i,a){if(!(e[i]<e[i+1])){for(var o=a-t+1,s=0;s<o;s++)r[s]=e[s+t];for(var c=i-t+1,l=a-t+1,u=0,h=c,f=t;u<c&&h<l;)r[u]<=r[h]?(e[f]=r[u],n([f,e[f]]),u++):(e[f]=r[h],n([f,e[f]]),h++),f++;for(;u<c;)e[f]=r[u],n([f,e[f]]),u++,f++;for(;h<l;)e[f]=r[h],n([f,e[f]]),h++,f++}};!function e(t,n,r){if(n<r){var a=Math.floor(n+(r-n)/2);e(t,n,a),e(t,a+1,r),i(t,n,a,r)}}(e,0,e.length-1)}function T(e,t,n){t();var r=function(e,t,r){if(r-t>2){var i=Math.floor(t+(r-t)/2);e[t]<e[i]&&e[i]<e[r]?(P(e,i,r),n([i,e[i],r,e[r]])):e[t]>e[i]&&e[i]>e[r]&&(P(e,i,r),n([i,e[i],r,e[r]]))}for(var a=e[r],o=t-1,s=t;s<=r-1;s++)e[s]<a&&(P(e,++o,s),n([o,e[o],s,e[s]]));return P(e,o+1,r),n([o+1,e[o+1],r,e[r]]),o+1};!function e(t,n,i){var a;return L.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:n<i&&(a=r(t,n,i),e(t,n,a-1),e(t,a+1,i));case 1:case"end":return o.stop()}}))}(e,0,e.length-1)}function P(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}var D=function(e){function t(e){var n;Object(l.a)(this,t),n=Object(h.a)(this,Object(f.a)(t).call(this,e));for(var r=[],i=0;i<100;i++)r.push(i);return n.state={running:!1,rendering:!1},n.vector=new _(r,8),n.run=n.run.bind(Object(m.a)(n)),n.shuffleAction=n.shuffleAction.bind(Object(m.a)(n)),n.reverseAction=n.reverseAction.bind(Object(m.a)(n)),n.bubbleSortAction=n.bubbleSortAction.bind(Object(m.a)(n)),n.insertionSortAction=n.insertionSortAction.bind(Object(m.a)(n)),n.mergeSortInPlaceAction=n.mergeSortInPlaceAction.bind(Object(m.a)(n)),n.mergeSortAction=n.mergeSortAction.bind(Object(m.a)(n)),n.quickSortAction=n.quickSortAction.bind(Object(m.a)(n)),n.renderCanvas=n.renderCanvas.bind(Object(m.a)(n)),n}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.frame=window.requestAnimationFrame(this.renderCanvas)}},{key:"componentWillUnmount",value:function(){window.cancelAnimationFrame(this.frame)}},{key:"run",value:function(e){var t=this;this.setState({running:!0,rendering:!0},(function(){e(Object(k.a)(t.vector.getData()),t.vector.initialize,t.vector.update),t.setState({running:!1})}))}},{key:"shuffleAction",value:function(){this.run(M)}},{key:"reverseAction",value:function(){this.run(B)}},{key:"bubbleSortAction",value:function(){this.run(j)}},{key:"insertionSortAction",value:function(){this.run(O)}},{key:"mergeSortInPlaceAction",value:function(){this.run(N)}},{key:"mergeSortAction",value:function(){this.run(U)}},{key:"quickSortAction",value:function(){this.run(T)}},{key:"renderCanvas",value:function(e){var t=this.vector.animate(e),n=t.animating,r=t.data;n||this.state.running||this.setState({rendering:!1}),function(e,t){var n=t.length,r=e.getBoundingClientRect(),i=r.width,a=r.height,o=window.devicePixelRatio;e.width=i*o,e.height=a*o;var s=.9*Math.floor(i/n),c=Math.floor(.8*s),l=e.getContext("2d");l.clearRect(0,0,i,a),l.fillStyle="black";for(var u=0;u<n;u++){var h=Math.floor((t[u]+1)/100*.8*a);l.fillRect(.05*i+u*s,.9*a-h,c,h)}}(this.canvas,r),this.frame=window.requestAnimationFrame(this.renderCanvas)}},{key:"render",value:function(){var e=this;return i.a.createElement(g,{inner:!0},i.a.createElement(b,{fluid:!0,className:"mt-5"},i.a.createElement(p,{row:"sm"},i.a.createElement(A,{col:"sm",className:"d-flex justify-content-around align-items-center"},i.a.createElement(x,{styles:"primary",disabled:this.state.running||this.state.rendering,onClick:this.shuffleAction},"Shuffle"),i.a.createElement(x,{styles:"primary",disabled:this.state.running||this.state.rendering,onClick:this.reverseAction},"Reverse"),i.a.createElement(x,{styles:"primary",disabled:this.state.running||this.state.rendering,onClick:this.bubbleSortAction},"Bubble Sort"),i.a.createElement(x,{styles:"primary",disabled:this.state.running||this.state.rendering,onClick:this.insertionSortAction},"Insertion Sort"),i.a.createElement(x,{styles:"primary",disabled:this.state.running||this.state.rendering,onClick:this.mergeSortInPlaceAction},"Merge Sort (In Place)"),i.a.createElement(x,{styles:"primary",disabled:this.state.running||this.state.rendering,onClick:this.mergeSortAction},"Merge Sort"),i.a.createElement(x,{styles:"primary",disabled:this.state.running||this.state.rendering,onClick:this.quickSortAction},"Quick Sort")))),i.a.createElement("canvas",{className:"flex-grow-1",ref:function(t){return e.canvas=t}}))}}]),t}(i.a.Component),I=function(){function e(t,n){Object(l.a)(this,e),this.data=t,this.frameRate=n,this.queue=[],this.getData=this.getData.bind(this),this.initialize=this.initialize.bind(this),this.update=this.update.bind(this),this.animate=this.animate.bind(this)}return Object(u.a)(e,[{key:"getData",value:function(){return this.data}},{key:"initialize",value:function(e){this.timeStamp=void 0,e&&(this.data=this._clone(e))}},{key:"update",value:function(e){this.queue.push(e)}},{key:"animate",value:function(e){this.timeStamp||(this.timeStamp=e);var t=e-this.timeStamp;for(this.timeStamp=e;this.queue.length>0&&t>=this.frameRate;){t-=this.frameRate;for(var n=this.queue.shift(),r=0;r<n.length;r+=3)this.data[n[r+1]][n[r]]=n[r+2]}return this.timeStamp-=t,{animating:0!==this.queue.length,data:this.data}}},{key:"_clone",value:function(e){var t=this;return e.map((function(e){return Array.isArray(e)?t._clone(e):e}))}}]),e}(),z=[{x:-1,y:0},{x:0,y:-1},{x:1,y:0},{x:0,y:1}],Y=.8;function V(e,t,n){q(e,1),t(e),H(e,n,K,{x:1,y:1})}function W(e,t,n){var r=[],i=0,a=function(e,t){e[t.y][t.x]=0,r[t.y][t.x]=i};q(e,1),t(e);for(var o=e.length,s=e[0].length,c=0;c<o;c++)r.push(Array(s).fill(0));!function(e,t,n,r,i,a,o,s){for(var c=[],l=0;l<o;l++){var u=1+(X(1,3+s)<<1),h=X(0,1+u>>1)<<1,f=u,m=u;0===X(0,1)?f+=h:m+=h;for(var v=1+(X(0,n-f-1>>1)<<1),d=1+(X(0,r-m-1>>1)<<1),g={x:v,y:d,width:f,height:m},b=!1,p=0;p<c.length;p++){var A=c[p];if($(g,A)){b=!0;break}}if(!b){c.push(g),i();for(var y=0;y<f;y++){for(var x=[],R=0;R<m;R++)a(e,{x:v+y,y:d+R}),x.push(v+y,d+R,e[d+R][v+y]);t(x)}}}}(e,n,s,o,(function(e,t){i++}),a,256,4);for(var l=1;l<o;l+=2)for(var u=1;u<s;u+=2)0!==e[l][u]&&(i++,H(e,n,a,{x:u,y:l}));!function(e,t,n,r,i,a){for(var o=[],s=1;s<r-1;s++)for(var c=1;c<n-1;c++)if(1===e[s][c]){for(var l=[],u=0;u<z.length;u++){var h=z[u],f=a[s+h.y][c+h.x];0===f||l.includes(f)||l.push(f)}l.length<2||o.push({x:c,y:s,regions:l})}for(var m=[0],v=[],d=1;d<=i;d++)m.push(d),v.push(d);var g=function(){var n=X(0,o.length-1),r=o[n];K(e,{x:r.x,y:r.y}),t([r.x,r.y,e[r.y][r.x]]);for(var a=r.regions.map((function(e){return m[e]})),s=a[0],c=a.slice(1),l=0;l<=i;l++)c.includes(l)&&(m[l]=s);v=v.filter((function(e){return!c.includes(e)})),o=o.filter((function(n){if(Math.abs(n.x-r.x)<=1&&Math.abs(n.y-r.y)<=1)return!1;n.regions=n.regions.map((function(e){return m[e]}));for(var i=1;i<n.regions.length;i++)if(n.regions[i]!==n.regions[0])return!0;return 0===X(0,99)&&(K(e,{x:n.x,y:n.y}),t([n.x,n.y,e[n.y][n.x]])),!1}))};for(;v.length>1;)g()}(e,n,s,o,i,r),function(e,t,n,r){var i=!1;for(;!i;){i=!0;for(var a=1;a<r-1;a++)for(var o=1;o<n-1;o++)if(1!==e[a][o]){for(var s=0,c=0;c<z.length;c++){var l=z[c];1!==e[a+l.y][o+l.x]&&s++}1===s&&(i=!1,G(e,{x:o,y:a}),t([o,a,e[a][o]]))}}}(e,n,s,o)}function q(e,t){for(var n=e.length,r=0;r<n;r++)e[r].fill(t)}function H(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:K,i=arguments.length>3?arguments[3]:void 0,a=e.length,o=e[0].length,s=[];for(r(e,i),t([i.x,i.y,e[i.y][i.x]]),e[i.y][i.x]=0,s.push(i);s.length>0;){for(var c=s[s.length-1],l=[],u=0;u<z.length;u++){var h=z[u];Q(e,o,a,c,h)&&l.push(h)}if(l.length>0){var f=void 0,m=J(c,f=l.includes(n)&&Math.random()>Y?n:l[Math.floor(Math.random()*l.length)],1),v=J(c,f,2);r(e,m),r(e,v),t([m.x,m.y,e[m.y][m.x],v.x,v.y,e[v.y][v.x]]),s.push(J(c,f,2)),n=f}else s.pop(),n=null}}function G(e,t){e[t.y][t.x]=1}function K(e,t){e[t.y][t.x]=0}function Q(e,t,n,r,i){if(!function(e,t,n){if(n.x<0||n.y<0||n.x>=e||n.y>=t)return!1;return!0}(t,n,J(r,i,3)))return!1;var a=J(r,i,2);return 1===e[a.y][a.x]}function J(e,t,n){return{x:e.x+t.x*n,y:e.y+t.y*n}}function X(e,t){return Math.floor(Math.random()*(t-e+1))+e}function $(e,t){return!(e.x>t.x+t.width||t.x>e.x+e.width)&&!(e.y>t.y+t.height||t.y>e.y+e.height)}var Z=function(e){function t(e){var n;Object(l.a)(this,t),n=Object(h.a)(this,Object(f.a)(t).call(this,e));for(var r=[],i=0;i<99;i++)r.push(Array(99).fill(1));return n.grid=new I(r,6),n.run=n.run.bind(Object(m.a)(n)),n.onClickCreateMaze=n.onClickCreateMaze.bind(Object(m.a)(n)),n.onClickCreateDungeon=n.onClickCreateDungeon.bind(Object(m.a)(n)),n.onResize=n.onResize.bind(Object(m.a)(n)),n.renderCanvas=n.renderCanvas.bind(Object(m.a)(n)),n.state={running:!1,rendering:!1,screenWidth:window.screen.width,screenHeight:window.screen.height},n}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize),this.frame=window.requestAnimationFrame(this.renderCanvas)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize),window.cancelAnimationFrame(this.frame)}},{key:"run",value:function(e){var t=this;this.setState({running:!0,rendering:!0},(function(){e(t._clone(t.grid.getData()),t.grid.initialize,t.grid.update),t.setState({running:!1})}))}},{key:"onClickCreateMaze",value:function(){this.run(V)}},{key:"onClickCreateDungeon",value:function(){this.run(W)}},{key:"onResize",value:function(){window.screen.width===this.width&&window.screen.height===this.height||(this.width=window.screen.width,this.height=window.screen.height,this.setState({screenWidth:this.width,screenHeight:this.height}))}},{key:"renderCanvas",value:function(e){var t=this.grid.animate(e),n=t.animating,r=t.data;n||this.state.running||this.setState({rendering:!1}),function(e,t,n){var r=t.length,i=t[0].length,a=e.getBoundingClientRect(),o=a.width,s=a.height;e.width=o,e.height=s;var c=Math.floor(o/i),l=Math.floor(s/r),u=e.getContext("2d");u.clearRect(0,0,o,s);for(var h=0;h<r;h++)for(var f=0;f<i;f++)u.fillStyle=n[t[h][f]],u.fillRect(f*c,h*l,c,l)}(this.canvas,r,["black","sienna"]),this.frame=window.requestAnimationFrame(this.renderCanvas)}},{key:"_clone",value:function(e){var t=this;return e.map((function(e){return Array.isArray(e)?t._clone(e):e}))}},{key:"render",value:function(){var e=this,t="sm-6",n="sm-6";return this.state.screenWidth/this.state.screenHeight<16/9&&(t="sm-8",n="sm-4"),i.a.createElement(g,{inner:!0},i.a.createElement(b,{fluid:!0,className:"h-100 mt-5"},i.a.createElement(p,{className:"h-100"},i.a.createElement(A,{col:t},i.a.createElement("canvas",{className:"w-100 h-100",ref:function(t){return e.canvas=t}})),i.a.createElement(A,{col:n,className:"d-flex flex-column justify-content-around align-items-start"},i.a.createElement(x,{styles:"primary large",disabled:this.state.running||this.state.rendering,onClick:this.onClickCreateMaze},"Create Maze"),i.a.createElement(x,{styles:"primary large",disabled:this.state.running||this.state.rendering,onClick:this.onClickCreateDungeon},"Create Dungeon")))))}}]),t}(i.a.Component),ee=n(1);function te(e){return e*(Math.PI/180)}function ne(e,t,n){var r=re(e,e.VERTEX_SHADER,t),i=re(e,e.FRAGMENT_SHADER,n),a=e.createProgram();return e.attachShader(a,r),e.attachShader(a,i),e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS)?a:(alert("Unable to initialize the shader program: "+e.getProgramInfoLog(a)),null)}function re(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS)?r:(alert("An error occurred compiling the shaders: "+e.getShaderInfoLog(r)),e.deleteShader(r),null)}function ie(e){e.clearColor(0,0,0,1),e.clearDepth(1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}var ae=function(){function e(t){Object(l.a)(this,e),this.gl=t,this.draw=this.draw.bind(this);var n=this._initShaders(t);this.model={program:n,attribLocations:{vertexPosition:t.getAttribLocation(n,"vert"),vertexColor:t.getAttribLocation(n,"vertColor"),vertexNormal:t.getAttribLocation(n,"vertNormal")},uniformLocations:{projectionMatrix:t.getUniformLocation(n,"camera"),modelViewMatrix:t.getUniformLocation(n,"model"),normalMatrix:t.getUniformLocation(n,"normalMatrix"),light:{position:t.getUniformLocation(n,"light.position"),color:t.getUniformLocation(n,"light.color")}},buffers:this._initBuffers(t)}}return Object(u.a)(e,[{key:"draw",value:function(e,t,n){var r=this.gl,i=this.model,a=this.model.buffers,o=r.FLOAT;r.bindBuffer(r.ARRAY_BUFFER,a.position),r.vertexAttribPointer(i.attribLocations.vertexPosition,3,o,!1,0,0),r.enableVertexAttribArray(i.attribLocations.vertexPosition);var s=r.FLOAT;r.bindBuffer(r.ARRAY_BUFFER,a.normal),r.vertexAttribPointer(i.attribLocations.vertexNormal,3,s,!1,0,0),r.enableVertexAttribArray(i.attribLocations.vertexNormal);var c=r.FLOAT;r.bindBuffer(r.ARRAY_BUFFER,a.color),r.vertexAttribPointer(i.attribLocations.vertexColor,4,c,!1,0,0),r.enableVertexAttribArray(i.attribLocations.vertexColor),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,a.indices);var l=ee.a();ee.c(l,t,n);var u=ee.a();ee.b(u,l),ee.h(u,u),r.useProgram(i.program),r.uniformMatrix4fv(i.uniformLocations.projectionMatrix,!1,e),r.uniformMatrix4fv(i.uniformLocations.modelViewMatrix,!1,l),r.uniformMatrix4fv(i.uniformLocations.normalMatrix,!1,u),r.uniform3f(i.uniformLocations.light.position,50,10,20),r.uniform3f(i.uniformLocations.light.color,1,1,1);var h=r.UNSIGNED_SHORT;r.drawElements(r.TRIANGLES,36,h,0)}},{key:"_initShaders",value:function(e){return ne(e,"\n      uniform mat4 camera;\n      uniform mat4 model;\n\n      attribute vec3 vert;\n      attribute vec4 vertColor;\n      attribute vec3 vertNormal;\n\n      varying lowp vec3 fragVert;\n      varying lowp vec4 fragColor;\n      varying lowp vec3 fragNormal;\n\n      void main(void) {\n        fragColor = vertColor;\n        fragNormal = vertNormal;\n        fragVert = vert;\n        gl_Position = camera * model * vec4(vert, 1);\n      }\n    ","\n      precision highp float;\n\n      uniform mat4 model;\n      uniform mat4 normalMatrix;\n      \n      uniform struct {\n        vec3 position;\n        vec3 color;\n      } light;\n      \n      varying lowp vec4 fragColor;\n      varying lowp vec3 fragNormal;\n      varying lowp vec3 fragVert;\n      \n      void main() {\n          vec3 normal = vec3(normalize(normalMatrix * vec4(fragNormal, 1)));\n          \n          vec3 fragPosition = vec3(model * vec4(fragVert, 1));\n          \n          vec3 surfaceToLight = light.position - fragPosition;\n          float bright = dot(normal, surfaceToLight) / (length(surfaceToLight) * length(normal));\n          bright = clamp(bright, 0.0, 1.0);\n      \n          gl_FragColor = vec4(bright * light.color * fragColor.rgb, fragColor.a);\n      }\n    ")}},{key:"_initBuffers",value:function(e){var t=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),e.STATIC_DRAW);var n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]),e.STATIC_DRAW);for(var r=[[1,1,1,1],[1,0,0,1],[0,1,0,1],[0,0,1,1],[1,1,0,1],[1,0,1,1]],i=[],a=0;a<r.length;++a){var o=r[0];i=i.concat(o,o,o,o)}var s=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,s),e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW);var c=e.createBuffer();return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,c),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),e.STATIC_DRAW),{position:t,normal:n,color:s,indices:c}}}]),e}(),oe=function(){function e(){Object(l.a)(this,e),this.totalTime=0,this.initScene=this.initScene.bind(this),this.drawScene=this.drawScene.bind(this)}return Object(u.a)(e,[{key:"initScene",value:function(e,t){var n=new ae(e);this.scene={actors:[],camera:[0,0,50],cameraAngle:0};for(var r=0;r<t.length;r++)this.scene.actors.push({model:n,location:[.5*(r-(t.length-1)/2),0,0],scale:[.1,.1*(t[r]+1),.2],rotations:[{angle:te(-25),vector:[1,0,0]}]})}},{key:"drawScene",value:function(e,t,n){var r=this.scene;ie(e);var i=45*Math.PI/180,a=e.canvas.clientWidth/e.canvas.clientHeight,o=ee.a();ee.d(o,i,a,.1,100);var s=ee.a();ee.e(s,s,r.cameraAngle,[0,1,0]),ee.g(s,s,r.camera),ee.b(s,s);for(var c=0;c<r.actors.length;c++){var l=r.actors[c];this._renderActor(o,s,l),this._animateActor(l,t,n[c])}r.cameraAngle+=.001*t}},{key:"_renderActor",value:function(e,t,n){for(var r=n.model,i=ee.a(),a=0;a<n.rotations.length;a++){var o=n.rotations[a];ee.e(i,i,o.angle,o.vector)}ee.g(i,i,n.location),ee.f(i,i,n.scale),r.draw(e,t,i)}},{key:"_animateActor",value:function(e,t,n){e.scale[1]=.1*(n+1)}}]),e}(),se=function(){function e(t){Object(l.a)(this,e),this.gl=t,this.draw=this.draw.bind(this);var n=this._initShaders(t);this.model={program:n,attribLocations:{vertexPosition:t.getAttribLocation(n,"vert"),vertexColor:t.getAttribLocation(n,"vertColor"),vertexNormal:t.getAttribLocation(n,"vertNormal")},uniformLocations:{projectionMatrix:t.getUniformLocation(n,"camera"),modelViewMatrix:t.getUniformLocation(n,"model"),normalMatrix:t.getUniformLocation(n,"normalMatrix"),light1:{position:t.getUniformLocation(n,"light1.position"),color:t.getUniformLocation(n,"light1.color")},light2:{position:t.getUniformLocation(n,"light2.position"),color:t.getUniformLocation(n,"light2.color")}},buffers:this._initBuffers(t)}}return Object(u.a)(e,[{key:"draw",value:function(e,t,n){var r=this.gl,i=this.model,a=this.model.buffers,o=r.FLOAT;r.bindBuffer(r.ARRAY_BUFFER,a.position),r.vertexAttribPointer(i.attribLocations.vertexPosition,3,o,!1,0,0),r.enableVertexAttribArray(i.attribLocations.vertexPosition);var s=r.FLOAT;r.bindBuffer(r.ARRAY_BUFFER,a.normal),r.vertexAttribPointer(i.attribLocations.vertexNormal,3,s,!1,0,0),r.enableVertexAttribArray(i.attribLocations.vertexNormal);var c=r.FLOAT;r.bindBuffer(r.ARRAY_BUFFER,a.color),r.vertexAttribPointer(i.attribLocations.vertexColor,4,c,!1,0,0),r.enableVertexAttribArray(i.attribLocations.vertexColor),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,a.indices);var l=ee.a();ee.c(l,t,n);var u=ee.a();ee.b(u,l),ee.h(u,u),r.useProgram(i.program),r.uniformMatrix4fv(i.uniformLocations.projectionMatrix,!1,e),r.uniformMatrix4fv(i.uniformLocations.modelViewMatrix,!1,l),r.uniformMatrix4fv(i.uniformLocations.normalMatrix,!1,u),r.uniform3f(i.uniformLocations.light1.position,50,10,20),r.uniform3f(i.uniformLocations.light1.color,1,0,1),r.uniform3f(i.uniformLocations.light2.position,-50,-10,20),r.uniform3f(i.uniformLocations.light2.color,0,1,0);var h=r.UNSIGNED_SHORT;r.drawElements(r.TRIANGLES,36,h,0)}},{key:"_initShaders",value:function(e){return ne(e,"\n      uniform mat4 camera;\n      uniform mat4 model;\n\n      attribute vec3 vert;\n      attribute vec4 vertColor;\n      attribute vec3 vertNormal;\n\n      varying lowp vec3 fragVert;\n      varying lowp vec4 fragColor;\n      varying lowp vec3 fragNormal;\n\n      void main(void) {\n        fragColor = vertColor;\n        fragNormal = vertNormal;\n        fragVert = vert;\n        gl_Position = camera * model * vec4(vert, 1);\n      }\n    ","\n      precision highp float;\n\n      uniform mat4 model;\n      uniform mat4 normalMatrix;\n      \n      uniform struct {\n        vec3 position;\n        vec3 color;\n      } light1;\n      \n      uniform struct {\n        vec3 position;\n        vec3 color;\n      } light2;\n      \n      varying lowp vec4 fragColor;\n      varying lowp vec3 fragNormal;\n      varying lowp vec3 fragVert;\n      \n      void main() {\n          vec3 normal = vec3(normalize(normalMatrix * vec4(fragNormal, 1)));\n          \n          vec3 fragPosition = vec3(model * vec4(fragVert, 1));\n          \n          vec3 surfaceToLight1 = light1.position - fragPosition;\n          float bright1 = dot(normal, surfaceToLight1) / (length(surfaceToLight1) * length(normal));\n          bright1 = clamp(bright1, 0.0, 1.0);\n      \n          vec3 surfaceToLight2 = light2.position - fragPosition;\n          float bright2 = dot(normal, surfaceToLight2) / (length(surfaceToLight2) * length(normal));\n          bright2 = clamp(bright2, 0.0, 1.0);\n      \n          gl_FragColor = vec4(bright1 * light1.color * fragColor.rgb + bright2 * light2.color * fragColor.rgb, fragColor.a);\n      }\n    ")}},{key:"_initBuffers",value:function(e){var t=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),e.STATIC_DRAW);var n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]),e.STATIC_DRAW);for(var r=[[1,1,1,1],[1,0,0,1],[0,1,0,1],[0,0,1,1],[1,1,0,1],[1,0,1,1]],i=[],a=0;a<r.length;++a){var o=r[0];i=i.concat(o,o,o,o)}var s=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,s),e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW);var c=e.createBuffer();return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,c),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),e.STATIC_DRAW),{position:t,normal:n,color:s,indices:c}}}]),e}(),ce=function(){function e(){Object(l.a)(this,e),this.totalTime=0,this.initScene=this.initScene.bind(this),this.drawScene=this.drawScene.bind(this)}return Object(u.a)(e,[{key:"initScene",value:function(e,t){var n=new se(e);this.scene={actors:[],camera:[0,0,50]};for(var r=0;r<t.length;r++)this.scene.actors.push({model:n,location:[.5*(r-(t.length-1)/2),0,0],scale:[.1,.1*(t[r]+1),.2],rotations:[{angle:te(-25),vector:[1,0,0]}]})}},{key:"drawScene",value:function(e,t,n){var r=this.scene;ie(e);var i=45*Math.PI/180,a=e.canvas.clientWidth/e.canvas.clientHeight,o=ee.a();ee.d(o,i,a,.1,100);var s=ee.a();ee.g(s,s,r.camera),ee.b(s,s);for(var c=0;c<r.actors.length;c++){var l=r.actors[c];this._renderActor(o,s,l),this._animateActor(l,t,n[c])}}},{key:"_renderActor",value:function(e,t,n){for(var r=n.model,i=ee.a(),a=0;a<n.rotations.length;a++){var o=n.rotations[a];ee.e(i,i,o.angle,o.vector)}ee.g(i,i,n.location),ee.f(i,i,n.scale),r.draw(e,t,i)}},{key:"_animateActor",value:function(e,t,n){e.scale[1]=.1*(n+1),e.rotations[0].angle+=.002*t}}]),e}(),le=function(e){function t(e){var n;Object(l.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).scenes=[new oe,new ce];for(var r=[],i=0;i<100;i++)r.push(i);return n.vector=new _(r,8),n.state={sceneIndex:0,running:!1,rendering:!1},n.run=n.run.bind(Object(m.a)(n)),n.shuffleAction=n.shuffleAction.bind(Object(m.a)(n)),n.reverseAction=n.reverseAction.bind(Object(m.a)(n)),n.bubbleSortAction=n.bubbleSortAction.bind(Object(m.a)(n)),n.insertionSortAction=n.insertionSortAction.bind(Object(m.a)(n)),n.mergeSortInPlaceAction=n.mergeSortInPlaceAction.bind(Object(m.a)(n)),n.mergeSortAction=n.mergeSortAction.bind(Object(m.a)(n)),n.quickSortAction=n.quickSortAction.bind(Object(m.a)(n)),n.onClickCanvas=n.onClickCanvas.bind(Object(m.a)(n)),n.renderCanvas=n.renderCanvas.bind(Object(m.a)(n)),n}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.canvas,t=e.getBoundingClientRect();e.width=t.width,e.height=t.height,this.gl=e.getContext("webgl"),null===this.gl?alert("Unable to initialize WebGL. Your browser or machine may not support it."):(this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(this.gl.BACK),this.scenes[0].initScene(this.gl,this.vector.getData()),this.scenes[1].initScene(this.gl,this.vector.getData()),this.frame=window.requestAnimationFrame(this.renderCanvas))}},{key:"componentWillUnmount",value:function(){window.cancelAnimationFrame(this.frame)}},{key:"run",value:function(e){var t=this;this.setState({running:!0,rendering:!0},(function(){e(Object(k.a)(t.vector.getData()),t.vector.initialize,t.vector.update),t.setState({running:!1})}))}},{key:"shuffleAction",value:function(){this.run(M)}},{key:"reverseAction",value:function(){this.run(B)}},{key:"bubbleSortAction",value:function(){this.run(j)}},{key:"insertionSortAction",value:function(){this.run(O)}},{key:"mergeSortInPlaceAction",value:function(){this.run(N)}},{key:"mergeSortAction",value:function(){this.run(U)}},{key:"quickSortAction",value:function(){this.run(T)}},{key:"onClickCanvas",value:function(){this.setState({sceneIndex:1-this.state.sceneIndex})}},{key:"renderCanvas",value:function(e){this.timeStamp||(this.timeStamp=e);var t=e-this.timeStamp;this.timeStamp=e;var n=this.vector.animate(e),r=n.animating,i=n.data;r||this.state.running||this.setState({rendering:!1}),this.scenes[this.state.sceneIndex].drawScene(this.gl,t,i),this.frame=window.requestAnimationFrame(this.renderCanvas)}},{key:"render",value:function(){var e=this;return i.a.createElement(g,{inner:!0},i.a.createElement(b,{fluid:!0,className:"mt-2 mb-2"},i.a.createElement(p,{row:"sm"},i.a.createElement(A,{col:"sm",className:"d-flex justify-content-around align-items-center"},i.a.createElement(x,{styles:"primary",disabled:this.state.running||this.state.rendering,onClick:this.shuffleAction},"Shuffle"),i.a.createElement(x,{styles:"primary",disabled:this.state.running||this.state.rendering,onClick:this.reverseAction},"Reverse"),i.a.createElement(x,{styles:"primary",disabled:this.state.running||this.state.rendering,onClick:this.bubbleSortAction},"Bubble Sort"),i.a.createElement(x,{styles:"primary",disabled:this.state.running||this.state.rendering,onClick:this.insertionSortAction},"Insertion Sort"),i.a.createElement(x,{styles:"primary",disabled:this.state.running||this.state.rendering,onClick:this.mergeSortInPlaceAction},"Merge Sort (In Place)"),i.a.createElement(x,{styles:"primary",disabled:this.state.running||this.state.rendering,onClick:this.mergeSortAction},"Merge Sort"),i.a.createElement(x,{styles:"primary",disabled:this.state.running||this.state.rendering,onClick:this.quickSortAction},"Quick Sort")))),i.a.createElement("canvas",{className:"canvas",ref:function(t){return e.canvas=t},onClick:this.onClickCanvas}))}}]),t}(i.a.Component),ue=function(){function e(t){Object(l.a)(this,e),this.MazeModel=t,this.initScene=this.initScene.bind(this),this.drawScene=this.drawScene.bind(this),this.animateScene=this.animateScene.bind(this),this.totalDelta=0}return Object(u.a)(e,[{key:"initScene",value:function(e,t){var n=new this.MazeModel(e,t);this.scene={actors:[{model:n,location:[0,10,-1.6*t.height],rotation:{angle:0,axis:[0,0,1],speed:.5}}],camera:[0,0,0]}}},{key:"drawScene",value:function(e,t){var n=this.scene;ie(e);var r=45*Math.PI/180,i=e.canvas.clientWidth/e.canvas.clientHeight,a=ee.a();ee.d(a,r,i,.1,500);var o=ee.a();ee.g(o,o,n.camera),ee.b(o,o);for(var s=0;s<n.actors.length;s++){var c=n.actors[s];c.model.update(t),this._renderActor(a,o,c)}}},{key:"_renderActor",value:function(e,t,n){var r=n.model,i=ee.a();ee.g(i,i,n.location),ee.e(i,i,te(-45),[1,0,0]),ee.e(i,i,n.rotation.angle,n.rotation.axis),r.draw(e,t,i)}},{key:"animateScene",value:function(e){for(var t=this.scene,n=0;n<t.actors.length;n++){var r=t.actors[n];this._animateActor(e,r)}}},{key:"_animateActor",value:function(e,t){t.rotation.angle+=.001*e*t.rotation.speed}}]),e}(),he=function(){function e(t,n){Object(l.a)(this,e),this.gl=t,this.maze=n,this.draw=this.draw.bind(this);var r=this._initShaders(t);this.model={program:r,attribLocations:{vertexPosition:t.getAttribLocation(r,"aVertexPosition"),vertexColor:t.getAttribLocation(r,"aVertexColor")},uniformLocations:{projectionMatrix:t.getUniformLocation(r,"uProjectionMatrix"),modelViewMatrix:t.getUniformLocation(r,"uModelViewMatrix")},buffers:this._initBuffers(t,n)}}return Object(u.a)(e,[{key:"update",value:function(e){this._freeBuffers(this.gl,this.model.buffers),this.maze=e,this.model.buffers=this._initBuffers(this.gl,e)}},{key:"draw",value:function(e,t,n){var r=this.gl,i=this.model,a=this.model.buffers,o=r.FLOAT;r.bindBuffer(r.ARRAY_BUFFER,a.position),r.vertexAttribPointer(i.attribLocations.vertexPosition,3,o,!1,0,0),r.enableVertexAttribArray(i.attribLocations.vertexPosition);var s=r.FLOAT;r.bindBuffer(r.ARRAY_BUFFER,a.color),r.vertexAttribPointer(i.attribLocations.vertexColor,4,s,!1,0,0),r.enableVertexAttribArray(i.attribLocations.vertexColor),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,a.indices);var c=ee.a();ee.c(c,t,n),r.useProgram(i.program),r.uniformMatrix4fv(i.uniformLocations.projectionMatrix,!1,e),r.uniformMatrix4fv(i.uniformLocations.modelViewMatrix,!1,c);var l=a.vertexCount,u=r.UNSIGNED_SHORT;r.drawElements(r.TRIANGLES,l,u,0)}},{key:"_initShaders",value:function(e){return ne(e,"\n      attribute vec4 aVertexPosition;\n      attribute vec4 aVertexColor;\n\n      uniform mat4 uModelViewMatrix;\n      uniform mat4 uProjectionMatrix;\n\n      varying lowp vec4 vColor;\n\n      void main(void) {\n        gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\n        vColor = aVertexColor;\n      }\n    ","\n      varying lowp vec4 vColor;\n\n      void main(void) {\n        gl_FragColor = vColor;\n      }\n    ")}},{key:"_initBuffers",value:function(e,t){for(var n=[],r=[],i=[],a=0,o=function(e,t,o,s,c,l){n.push(e,o,c,t,o,c,t,s,c,e,s,c),i.push(a+0,a+1,a+2,a+0,a+2,a+3),a+=4;for(var u=0;u<4;u++)for(var h=0;h<4;h++)r.push(l[h])},s=function(e,t,o,s,c,l){n.push(e,c,o,t,c,o,t,c,s,e,c,s),i.push(a+0,a+1,a+2,a+0,a+2,a+3),a+=4;for(var u=0;u<4;u++)for(var h=0;h<4;h++)r.push(l[h])},c=function(e,t,o,s,c,l){n.push(c,e,o,c,t,o,c,t,s,c,e,s),i.push(a+0,a+1,a+2,a+0,a+2,a+3),a+=4;for(var u=0;u<4;u++)for(var h=0;h<4;h++)r.push(l[h])},l=[.2,.2,.2,1],u=[.7,.7,.7,1],h=[.5,0,.5,1],f=[0,.5,0,1],m=[.5,0,0,1],v=[0,0,.5,1],d=-t.width/2,g=-t.height/2,b=0;b<t.height;b++)for(var p=0;p<t.width;p++){var A=p+d,y=A+1,x=b+g,R=x+1;0===t.data[b][p]?o(A,y,x,R,0,l):(o(A,y,x,R,1,u),0!==b&&0!==t.data[b-1][p]||s(A,y,0,1,x,h),0!==p&&0!==t.data[b][p-1]||c(R,x,0,1,A,m),b!==t.height-1&&0!==t.data[b+1][p]||s(y,A,0,1,R,f),p!==t.width-1&&0!==t.data[b][p+1]||c(x,R,0,1,y,v))}var C=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,C),e.bufferData(e.ARRAY_BUFFER,new Float32Array(n),e.STATIC_DRAW);var E=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,E),e.bufferData(e.ARRAY_BUFFER,new Float32Array(r),e.STATIC_DRAW);var w=e.createBuffer();return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,w),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.STATIC_DRAW),{position:C,color:E,indices:w,vertexCount:i.length}}},{key:"_freeBuffers",value:function(e,t){e.deleteBuffer(t.position),e.deleteBuffer(t.color),e.deleteBuffer(t.indices)}}]),e}(),fe=function(){function e(t,n){Object(l.a)(this,e),this.gl=t,this.maze=n,this.draw=this.draw.bind(this);var r=this._initShaders(t);this.model={program:r,attribLocations:{vertexPosition:t.getAttribLocation(r,"vert"),vertexColor:t.getAttribLocation(r,"vertColor"),vertexNormal:t.getAttribLocation(r,"vertNormal")},uniformLocations:{projectionMatrix:t.getUniformLocation(r,"uProjectionMatrix"),viewMatrix:t.getUniformLocation(r,"uViewMatrix"),modelMatrix:t.getUniformLocation(r,"uModelMatrix"),normalMatrix:t.getUniformLocation(r,"uNormalMatrix"),light:{position:t.getUniformLocation(r,"light.position"),color:t.getUniformLocation(r,"light.color")}},buffers:this._initBuffers(t,n)}}return Object(u.a)(e,[{key:"update",value:function(e){this._freeBuffers(this.gl,this.model.buffers),this.maze=e,this.model.buffers=this._initBuffers(this.gl,e)}},{key:"draw",value:function(e,t,n){var r=this.gl,i=this.model,a=this.model.buffers,o=r.FLOAT;r.bindBuffer(r.ARRAY_BUFFER,a.position),r.vertexAttribPointer(i.attribLocations.vertexPosition,3,o,!1,0,0),r.enableVertexAttribArray(i.attribLocations.vertexPosition);var s=r.FLOAT;r.bindBuffer(r.ARRAY_BUFFER,a.normal),r.vertexAttribPointer(i.attribLocations.vertexNormal,3,s,!1,0,0),r.enableVertexAttribArray(i.attribLocations.vertexNormal);var c=r.FLOAT;r.bindBuffer(r.ARRAY_BUFFER,a.color),r.vertexAttribPointer(i.attribLocations.vertexColor,4,c,!1,0,0),r.enableVertexAttribArray(i.attribLocations.vertexColor),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,a.indices);var l=ee.a();ee.b(l,n),ee.h(l,l),r.useProgram(i.program),r.uniformMatrix4fv(i.uniformLocations.projectionMatrix,!1,e),r.uniformMatrix4fv(i.uniformLocations.modelMatrix,!1,n),r.uniformMatrix4fv(i.uniformLocations.viewMatrix,!1,t),r.uniformMatrix4fv(i.uniformLocations.normalMatrix,!1,l),r.uniform3f(i.uniformLocations.light.position,0,14,0),r.uniform3f(i.uniformLocations.light.color,1,1,1);var u=a.vertexCount,h=r.UNSIGNED_SHORT;r.drawElements(r.TRIANGLES,u,h,0)}},{key:"_initShaders",value:function(e){return ne(e,"\n      precision mediump float;\n\n      uniform mat4 uProjectionMatrix;\n      uniform mat4 uViewMatrix;\n      uniform mat4 uModelMatrix;\n      uniform mat4 uNormalMatrix;\n\n      attribute vec3 vert;\n      attribute vec4 vertColor;\n      attribute vec3 vertNormal;\n\n      varying vec3 fragPosition;\n      varying vec4 fragColor;\n      varying vec3 fragNormal;\n\n      void main(void) {\n        fragPosition = vec3(uModelMatrix * vec4(vert, 1));\n        fragColor = vertColor;\n        fragNormal = vec3(uNormalMatrix * vec4(vertNormal, 1));\n        gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(vert, 1);\n      }\n    ","\n      precision mediump float;\n\n      uniform struct {\n        vec3 position;\n        vec3 color;\n      } light;\n      \n      varying vec3 fragPosition;\n      varying vec4 fragColor;\n      varying vec3 fragNormal;\n      \n      void main() {          \n          float ambient = 0.0;\n\n          vec3 light_dir = light.position - fragPosition;\n          float distance = length(light_dir);\n          float diffuse = dot(fragNormal, normalize(light_dir));\n          float point_intensity = clamp(12000.0 / (distance * distance), 0.0, 1.0) * diffuse;\n\n          gl_FragColor = vec4(ambient * fragColor.rgb + point_intensity * light.color * fragColor.rgb, fragColor.a);\n      }\n    ")}},{key:"_initBuffers",value:function(e,t){for(var n=[],r=[],i=[],a=[],o=0,s=function(e,t,s,c,l,u,h){n.push(e,s,l,t,s,l,t,c,l,e,c,l),a.push(o+0,o+1,o+2,o+0,o+2,o+3),o+=4;for(var f=0;f<4;f++)for(var m=0;m<3;m++)r.push(h[m]);for(var v=0;v<4;v++)for(var d=0;d<4;d++)i.push(u[d])},c=function(e,t,s,c,l,u,h){n.push(e,l,s,t,l,s,t,l,c,e,l,c),a.push(o+0,o+1,o+2,o+0,o+2,o+3),o+=4;for(var f=0;f<4;f++)for(var m=0;m<3;m++)r.push(h[m]);for(var v=0;v<4;v++)for(var d=0;d<4;d++)i.push(u[d])},l=function(e,t,s,c,l,u,h){n.push(l,e,s,l,t,s,l,t,c,l,e,c),a.push(o+0,o+1,o+2,o+0,o+2,o+3),o+=4;for(var f=0;f<4;f++)for(var m=0;m<3;m++)r.push(h[m]);for(var v=0;v<4;v++)for(var d=0;d<4;d++)i.push(u[d])},u=[.52,.34,.14,1],h=[0,1,0,1],f=[.25,.5,0,1],m=[.25,.5,0,1],v=[.25,.5,0,1],d=[.25,.5,0,1],g=[0,0,1],b=[0,0,1],p=[0,-1,0],A=[0,1,0],y=[-1,0,0],x=[1,0,0],R=-t.width/2,C=-t.height/2,E=0;E<t.height;E++)for(var w=0;w<t.width;w++){var S=w+R,k=S+1,_=E+C,F=_+1;0===t.data[E][w]?s(S,k,_,F,0,u,g):(s(S,k,_,F,1,h,b),0!==E&&0!==t.data[E-1][w]||c(S,k,0,1,_,f,p),0!==w&&0!==t.data[E][w-1]||l(F,_,0,1,S,v,y),E!==t.height-1&&0!==t.data[E+1][w]||c(k,S,0,1,F,m,A),w!==t.width-1&&0!==t.data[E][w+1]||l(_,F,0,1,k,d,x))}var L=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,L),e.bufferData(e.ARRAY_BUFFER,new Float32Array(n),e.STATIC_DRAW);var M=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,M),e.bufferData(e.ARRAY_BUFFER,new Float32Array(r),e.STATIC_DRAW);var B=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,B),e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW);var j=e.createBuffer();return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,j),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(a),e.STATIC_DRAW),{position:L,normal:M,color:B,indices:j,vertexCount:a.length}}},{key:"_freeBuffers",value:function(e,t){e.deleteBuffer(t.position),e.deleteBuffer(t.color),e.deleteBuffer(t.indices)}}]),e}(),me=69,ve=function(e){function t(e){var n;Object(l.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).scenes=[new ue(he),new ue(fe)];for(var r=[],i=0;i<me;i++)r.push(Array(me).fill(1));return n.grid=new I(r,12),n.state={sceneIndex:0,running:!1,rendering:!1},n.run=n.run.bind(Object(m.a)(n)),n.onClickCreateMaze=n.onClickCreateMaze.bind(Object(m.a)(n)),n.onClickCreateDungeon=n.onClickCreateDungeon.bind(Object(m.a)(n)),n.onClickCanvas=n.onClickCanvas.bind(Object(m.a)(n)),n.renderCanvas=n.renderCanvas.bind(Object(m.a)(n)),n}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.canvas,t=e.getBoundingClientRect();if(e.width=t.width,e.height=t.height,this.gl=e.getContext("webgl"),null===this.gl)alert("Unable to initialize WebGL. Your browser or machine may not support it.");else{this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(this.gl.BACK);var n={width:me,height:me,data:this.grid.getData()};this.scenes[0].initScene(this.gl,n),this.scenes[1].initScene(this.gl,n),this.frame=window.requestAnimationFrame(this.renderCanvas)}}},{key:"componentWillUnmount",value:function(){window.cancelAnimationFrame(this.frame)}},{key:"run",value:function(e){var t=this;this.setState({running:!0,rendering:!0},(function(){e(t._clone(t.grid.getData()),t.grid.initialize,t.grid.update),t.setState({running:!1})}))}},{key:"onClickCreateMaze",value:function(){this.run(V)}},{key:"onClickCreateDungeon",value:function(){this.run(W)}},{key:"onClickCanvas",value:function(e){var t=this;this.setState({sceneIndex:1-this.state.sceneIndex},(function(){console.log(t.state)}))}},{key:"renderCanvas",value:function(e){this.timeStamp||(this.timeStamp=e);var t=e-this.timeStamp;this.timeStamp=e;var n=this.grid.animate(e),r=n.animating,i=n.data;r||this.state.running||this.setState({rendering:!1}),this.scenes[this.state.sceneIndex].drawScene(this.gl,{width:me,height:me,data:i});for(var a=0;a<this.scenes.length;a++)this.scenes[a].animateScene(t);this.frame=window.requestAnimationFrame(this.renderCanvas)}},{key:"_clone",value:function(e){var t=this;return e.map((function(e){return Array.isArray(e)?t._clone(e):e}))}},{key:"render",value:function(){var e=this;return i.a.createElement(g,{inner:!0},i.a.createElement(b,{fluid:!0,className:"mt-2 mb-2"},i.a.createElement(p,{row:"sm"},i.a.createElement(A,{col:"sm",className:"d-flex justify-content-around align-items-center"},i.a.createElement(x,{styles:"primary",disabled:this.state.running||this.state.rendering,onClick:this.onClickCreateMaze},"Create Maze"),i.a.createElement(x,{styles:"primary",disabled:this.state.running||this.state.rendering,onClick:this.onClickCreateDungeon},"Create Dungeon")))),i.a.createElement("canvas",{className:"canvas",ref:function(t){return e.canvas=t},onClick:this.onClickCanvas}))}}]),t}(i.a.Component),de=function(){return i.a.createElement(g,{outer:!0},i.a.createElement(g,null,i.a.createElement(w,null)),i.a.createElement(g,{grow:!0,center:!0},i.a.createElement(c.a,{exact:!0,path:"/",component:S}),i.a.createElement(c.a,{path:"/sort",component:D}),i.a.createElement(c.a,{path:"/maze",component:Z}),i.a.createElement(c.a,{path:"/sort3d",component:le}),i.a.createElement(c.a,{path:"/maze3d",component:ve})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(s.a,{basename:"/visualizer"},i.a.createElement(c.a,{path:"/",component:de})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.e7954936.chunk.js.map